<Window x:Class="EliteInfoPanel.Dialogs.OptionsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:converters="clr-namespace:EliteInfoPanel.Converters"
        Title="Options" Height="600" Width="520"
        WindowStartupLocation="Manual"
        Background="{DynamicResource MaterialDesignPaper}"
        WindowStyle="SingleBorderWindow"
        TextOptions.TextFormattingMode="Ideal"
        TextElement.Foreground="{DynamicResource MaterialDesign.Brush.Foreground}"
        FontFamily="{materialDesign:MaterialDesignFont}"
        TextOptions.TextRenderingMode="Auto">

    <Window.Resources>
        <converters:ScaleToFontSizeConverter x:Key="ScaleToFontSizeConverter"/>
    </Window.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="20">
            <TextBlock Text="Display Settings" FontWeight="Bold" FontSize="18" Margin="0,0,0,10" Style="{DynamicResource MaterialDesignTextBlock}"/>

            <!-- Window Mode Settings -->
            <GroupBox Header="Window Mode" Margin="0,0,0,16">
                <StackPanel x:Name="WindowModePanel">
                    <!-- Window mode options will be added programmatically -->
                </StackPanel>
            </GroupBox>

            <!-- Font Size Settings -->
            <GroupBox Header="Font Size" Margin="0,0,0,16">
                <StackPanel Margin="0,8,0,0">
                    <!-- Font size preview -->
                    <TextBlock Text="Sample Text" FontSize="{Binding FontSizePreview}" 
                    HorizontalAlignment="Center" 
                               Margin="0,0,0,10"
                             />

                    <!-- Font size slider -->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Text="A" FontSize="12" Grid.Column="0" Margin="0,0,8,0" 
                                   VerticalAlignment="Center"/>

                        <Slider Grid.Column="1"
                                Minimum="{Binding MinFontScale}" 
                                Maximum="{Binding MaxFontScale}" 
                                Value="{Binding CurrentFontScale}"
                                TickFrequency="{Binding FontScaleStep}"
                                IsSnapToTickEnabled="True"
                                VerticalAlignment="Center"/>

                        <TextBlock Text="A" FontSize="20" Grid.Column="2" Margin="8,0,0,0" 
                                   VerticalAlignment="Center"/>
                    </Grid>

                    <!-- Current scale display -->
                    <TextBlock Text="{Binding CurrentFontScale, StringFormat={}Scale: {0:P0}}"
                               HorizontalAlignment="Center"
                               Margin="0,4,0,0"/>
                </StackPanel>
            </GroupBox>

            <!-- Display Options -->
            <GroupBox Header="Display Options" Margin="0,0,0,16">
                <StackPanel x:Name="DisplayOptionsPanel">
                    <!-- Display options will be added programmatically -->
                </StackPanel>
            </GroupBox>

            <!-- "Change Display" button (only enabled for full screen mode) -->
            <StackPanel Orientation="Horizontal" 
                        HorizontalAlignment="Right" 
                        Margin="0,0,0,16"
                        IsEnabled="{Binding IsFullScreenMode}">
                <Button Content="Change Display" 
                        Command="{Binding ChangeDisplayCommand}"
                        Style="{DynamicResource MaterialDesignOutlinedButton}" />
            </StackPanel>

            <!-- Flag Icons -->
            <GroupBox Header="Status Flags to Show" Margin="0,0,0,16">
                <StackPanel x:Name="FlagOptionsPanel">
                    <!-- Flag options will be added programmatically -->
                </StackPanel>
            </GroupBox>

            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                <Button Width="80" Margin="0,0,10,0" Content="OK" 
                        Command="{Binding SaveCommand}" 
                        IsDefault="True" 
                        Style="{DynamicResource MaterialDesignRaisedButton}" />
                <Button Width="80" Content="Cancel" 
                        Command="{Binding CancelCommand}" 
                        IsCancel="True"
                        Style="{DynamicResource MaterialDesignRaisedButton}" />
            </StackPanel>
        </StackPanel>
    </ScrollViewer>
</Window>